!function(){"use strict";function a(t,e){0==e&&(e=t);var n=moment(t),a=moment(e);return-1*n.diff(a,"days")/365}var N=0,b=$("#calcStock"),C=$("#calcExercise"),E=$("#calcRate"),w=$("#calcVolatility"),t=$(".btnCalc"),i=void 0,o=void 0,c=void 0,r=void 0,l=0,u=0;c=flatpickr("#calcStartDate",{appendTo:document.querySelector(".start-date-container"),onChange:function(t,e,n){l=n._input.value,o=t[0],r.set("minDate",o),r.setDate(o),N=a(l,u)}}),r=flatpickr("#calcEndDate",{appendTo:document.querySelector(".end-date-container"),onChange:function(t,e,n){u=n._input.value,i=t[0],c.set("maxDate",i),N=a(l,u)}});function F(t){return Number(t.split(".").join("").split(",").join("."))}function V(t){return Number(t.split(",").join(".").split("%").join(""))}$(".money-mask").on("keyup",function(t){$(t.currentTarget);setTimeout(function(){},1e3)}),$(".money-mask").mask("000.000.000.000.000",{reverse:!0}),$(".percent-unit").mask("##0,00 %",{reverse:!0});function _(t){return isNaN(t)?"#VALUE!":jStat.normal.cdf(t,0,1)}function A(t){return t.split(".").join("-").split(",").join(".").split("-").join(",")}t.on("click",function(t){t.preventDefault();$(t.currentTarget);var e,n,a,i,o,c,r,l,u,p,s=F(b.val()),m=F(C.val()),d=V(E.val())/100,f=V(w.val())/100,v=(e=s,n=m,a=d,i=f,o=N,(Math.log(e/n)+(a+Math.pow(i,2)/2)*o)/(i*Math.sqrt(o))),h=(c=s,r=m,l=d,u=f,p=N,(Math.log(c/r)+(l-Math.pow(u,2)/2)*p)/(u*Math.sqrt(p))),k=-1*v,j=-1*h,M=_(v),y=_(h),g=_(k),x=_(j),D=s*M-m*Math.exp(-1*d*N)*y,S=m*Math.exp(-1*d*N)*x-s*g,T=A(D.toFixed(2)),q=A(S.toFixed(2));$(".call-price").html(T),$(".put-price").html(q)})}();
